<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    const content = async ()=>{
        //let req = await fetch("./coincap.txt");
        let req = await fetch("http://coinmarketcap.com",{
            mode:'no-cors'
        });
            let res = await req.text();
            return res;
    }
    content().then(r=>{
        const f = document.createElement("body");
        f.innerHTML = r;
        let rows = f.getElementsByClassName("cmc-table")[0].getElementsByTagName("tbody")[0].getElementsByTagName("tr");
        let data = [];
        [...rows].forEach((v,i)=>{
            let fetch = {};
            fetch.coin = v.getElementsByTagName("td")[2].getElementsByTagName("a")[0].href.split("currencies/")[1].slice(0,-1);
            fetch.price = v.getElementsByTagName("td")[3].textContent;
            fetch.change1hr = v.getElementsByTagName("td")[4].textContent;
            //console.log(v.getElementsByClassName("sc-d5c03ba0-0")[0]?.textContent);
            //fetch.change24hr = v.getElementsByTagName("td")[5].textContent;
            //fetch.change7d = v.getElementsByTagName("td")[6].textContent;
         data.push(fetch);
        });
      // console.log(data);
    })
   //console.log();
</script>
</body>
</html>